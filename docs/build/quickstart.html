
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Quickstart &#8212; Bonfig 0.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Cheat Sheet" href="cheatsheet.html" />
    <link rel="prev" title="Welcome to Bonfig’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install Bonfig simply run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">bonfig</span>
</pre></div>
</div>
<p>Note that Bonfig requires Python version 3.4 or greater, and has no external dependencies.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basic-bonfig">
<h3>Basic Bonfig<a class="headerlink" href="#basic-bonfig" title="Permalink to this headline">¶</a></h3>
<p>Here is a super basic Bonfig:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bonfig</span> <span class="k">import</span> <span class="n">Bonfig</span><span class="p">,</span> <span class="n">Store</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Bonfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">A</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;a value&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">B</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Berty&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We create a Bonfig by declaring a class that inherits from the baseclass <cite>Bonfig</cite>.</p>
<p>Then we say we want to store configuration values in an attribute called <cite>store</cite>.</p>
<p>Following from that we create Fields <cite>A</cite> and <cite>B</cite> whose values we’ll store in our <cite>store</cite>, and we
set <cite>B</cite>’s name to <cite>‘Berty’</cite>.</p>
<p>So now we can create an instance of <cite>Config</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
</pre></div>
</div>
<p>And we can fetch parameters from that instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;a value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">B</span>
<span class="go">10</span>
</pre></div>
</div>
<p>By default, Bonfig instances are created ‘locked’, meaning that parameters cannot be set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="s1">&#39;Overwrite&#39;</span>
<span class="go">AttributeError: Attempting to mutate attribute key on a locked Bonfig</span>
</pre></div>
</div>
<p>However by calling <cite>Bonfig.unlock()</cite> the <cite>Bonfig</cite> can be modified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">unlock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="s1">&#39;Overwrite&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;Overwrite&#39;</span>
</pre></div>
</div>
<p>You can also modify Bonfigs without causing an exception by using them as a context manager, which will safely unlock
and relock your Bonfig:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">c</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">c</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="s1">&#39;And again&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;And again&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">locked</span>
<span class="go">True</span>
</pre></div>
</div>
<p>(Warning though - whilst this prevents setting <cite>Field</cite> values through attributes, values can still be changed in the
underlying store, also note that this only changes the value for that <cite>Bonfig</cite> <em>instance</em> not for all Bonfigs.)</p>
<p>Bonfig also plays well with inheritance, for example if we wanted to extend <cite>Config</cite> with a few more attributes, that’s
no problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExtraConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">extra_store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">C</span> <span class="o">=</span> <span class="n">extra_store</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mf">3.14159</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">ExtraConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;a value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">C</span>
<span class="go">3.14159</span>
</pre></div>
</div>
</div>
<div class="section" id="using-different-stores">
<h3>Using Different Stores<a class="headerlink" href="#using-different-stores" title="Permalink to this headline">¶</a></h3>
<p>So far, nothing has really happened that you can’t do with a regular class.</p>
<p>But let’s look at our <cite>ExtConfig</cite> instance <cite>c</cite> let’s check out the values of <cite>store</cite> and <cite>extra_store</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">store</span>
<span class="go">{&#39;A&#39;: &#39;a value&#39;, &#39;Berty&#39;: 10}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">extra_store</span>
<span class="go">{&#39;C&#39;: 3.14159}</span>
</pre></div>
</div>
<p>We can see that the values of our <cite>Fields</cite> are actually stored in their respective stores. Oh yes, and the key by which
<cite>c.B</cite> is stored by is <cite>‘Berty’</cite> as we set all the way up the top (I knew there was a reason)!</p>
<p>Despite first impressions, there is no magic here, it’s just Python. Once our Config has been defined, behind the scenes, Bonfig sets up
2 additional class attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ExtraConfig</span><span class="o">.</span><span class="n">__fields__</span>
<span class="go">[&lt;Field &#39;A&#39; stored in store: val=a value, default=None&gt;,</span>
<span class="go"> &lt;Field &#39;Berty&#39; stored in store: val=10, default=None&gt;,</span>
<span class="go"> &lt;Field &#39;C&#39; stored in extra_store: val=3.14159, default=None&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ExtraConfig</span><span class="o">.</span><span class="n">__store_attrs__</span>
<span class="go">{&#39;extra_store&#39;, &#39;store&#39;}</span>
</pre></div>
</div>
<p>Upon initialisation of our Config, these are used by <cite>Bonfig.load</cite>, which replaces the <cite>Store</cite> class attributes with
dictionaries as instance attributes of the same name:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>     <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="o">...</span>         <span class="k">for</span> <span class="n">store_attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__store_attrs__</span><span class="p">:</span>
<span class="o">...</span>             <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">store_attr</span><span class="p">,</span> <span class="p">{})</span>
</pre></div>
</div>
<p>Each field knows which store it belongs to, and where its value is stored, so when you ask an instance for a <cite>Field</cite>
value it’s actually just looking it up in its store.</p>
<p>You might wonder why go to all this fuss to control where attribute values are stored, however this makes sense if you
want to start loading and storing values from various places.</p>
<p>For example, perhaps you want to load values from JSON, whilst others are fixed for your configuration. By overloading
the <cite>Bonfig.load</cite> method, we can initialise <cite>Field</cite> values from this JSON:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">JSONBonfig</span><span class="p">(</span><span class="n">Bonfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">json_store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">A</span> <span class="o">=</span> <span class="n">json_store</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>  <span class="c1"># Leaving val blank ensures values loaded in load won&#39;t be overwritten during Field.initialise</span>
<span class="gp">... </span>    <span class="n">dict_store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">B</span> <span class="o">=</span> <span class="n">dict_store</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mi">360</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dict_store</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">json_store</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="s1">&#39;{&quot;A&quot;: 180}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>And now we can seamlessly access attributes loaded in completely different ways on our configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">JSONBonfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">180</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">B</span>
<span class="go">360</span>
</pre></div>
</div>
</div>
<div class="section" id="sections">
<h3>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h3>
<p>A common format for loading configurations is the <cite>.ini</cite> format. These files can be parsed using the standard
<cite>configparser</cite> module, storing them as a dictionary like object - <cite>configparser.ConfigParser</cite>.</p>
<p>In the above examples, our <cite>Store</cite> is converted into a dictionary, however, we can very easily modify this behaviour by
overloading the <cite>load</cite> method. Bonfig really doesn’t care <em>what</em> the store ends up being as all it does is try to use
<cite>__getitem__</cite> and <cite>__setitem__</cite>. So if your object can do that, it’ll work as a store for <cite>Fields</cite>.
As it happens <cite>configparser.ConfigParser</cite> objects fit the bill, as such they work great as Stores.</p>
<p>However, <cite>.ini</cite> files require each value to be looked up both by a key and a section.</p>
<p>Bonfig can help you out with this by providing the <cite>Section</cite> type, that make it easier to build up hierarchical
structures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">configparser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">INIConfig</span><span class="p">(</span><span class="n">Bonfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">SECTION</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">Section</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">A</span> <span class="o">=</span> <span class="n">SECTION</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">store</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s2">&quot;[SECTION]</span><span class="se">\n</span><span class="s2">A = Value&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ini</span> <span class="o">=</span> <span class="n">INIConfig</span><span class="p">()</span>
</pre></div>
</div>
<p>And looking at <cite>ini</cite> expectedly we see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ini</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;Value&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ini</span><span class="o">.</span><span class="n">store</span>
<span class="go">&lt;configparser.ConfigParser at 0x14927ee9470&gt;</span>
</pre></div>
</div>
<p>But how does <cite>c.A</cite> find its value <cite>c.store</cite>? Well we know it <em>could</em> find it like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ini</span><span class="o">.</span><span class="n">store</span><span class="p">[</span><span class="s1">&#39;SECTION&#39;</span><span class="p">][</span><span class="s1">&#39;A&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>And in-fact this is exactly what <cite>INIConfig.A</cite> does! Every <cite>Field</cite> has an attribute <cite>keys</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">INIConfig</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">keys</span>
<span class="go">[&#39;SECTION&#39;, &#39;A&#39;]</span>
</pre></div>
</div>
<p>When a <cite>Field</cite> fetches its value, Bonfig will try each key in this list heading deeper into a Store until it runs out
of keys, when it will return the value found. Any <cite>Field</cite> created by a <cite>Section</cite> will have that section’s name prepended
to its <cite>keys</cite> attribute.</p>
</div>
<div class="section" id="typed-fields">
<h3>Typed Fields<a class="headerlink" href="#typed-fields" title="Permalink to this headline">¶</a></h3>
<p>Going back to the <cite>.ini</cite> example, the values found in <cite>configparser.ConfigParser</cite> objects can only be strings, which
can cause issues:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">IniConfig</span><span class="p">(</span><span class="n">SectionedConfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NUM</span> <span class="o">=</span> <span class="n">SectionedConfig</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">store</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s2">&quot;[A]</span><span class="se">\n</span><span class="s2">key = Value</span><span class="se">\n</span><span class="s2">NUM = 123&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">IniConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">NUM</span>
<span class="go">&#39;123&#39;  # meh</span>
</pre></div>
</div>
<p>Luckily, Bonfig provides the specialised <cite>Field</cite> types - <cite>IntField</cite>, <cite>FloatField</cite>, <cite>BoolField</cite> and <cite>DatetimeField</cite>.</p>
<p>These convert values <em>from</em> their given type to strings as they are inserted into their <cite>Store</cite> (using a method called
<cite>pre_set</cite>), and then convert them back <em>into</em> their given type as after they’re fetched from their <cite>Store</cite> (using a method
called <cite>post_get</cite>). This means these types can still be used in configurations, even if their <cite>Store</cite> is only compatible
with strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">FixedIni</span><span class="p">(</span><span class="n">IniConfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NUM</span> <span class="o">=</span> <span class="n">IniConfig</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">IntField</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">FixedIni</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">NUM</span>
<span class="go">123  # Woo!</span>
</pre></div>
</div>
</div>
<div class="section" id="bonfig-initialisation-arguments">
<h3>Bonfig Initialisation Arguments<a class="headerlink" href="#bonfig-initialisation-arguments" title="Permalink to this headline">¶</a></h3>
<p>The final useful bit of Bonfig that I think is really worth knowing about is that you can pass positional and keyword
arguments to <cite>load</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Argumentative</span><span class="p">(</span><span class="n">Bonfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">A</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">B</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">store</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="n">b</span><span class="p">}</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Argumentative</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">A</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">B</span>
<span class="go">&#39;bar&#39;</span>
</pre></div>
</div>
<p>Any arguments provided to <cite>__init__</cite> are passed on to <cite>load</cite> (apart from <cite>locked</cite>!).</p>
</div>
<div class="section" id="going-easier-on-the-eyes">
<h3>Going Easier on the Eyes<a class="headerlink" href="#going-easier-on-the-eyes" title="Permalink to this headline">¶</a></h3>
<p>In an effort to make your Bonfigs look a bit nicer, you can use <cite>Stores</cite> and <cite>Sections</cite> as context managers which
creates a nice visual indent making visible where a section starts and ends. Additionally, it can get a bit tedious
writing <cite>store.X</cite>, <cite>section.Y</cite> all the time, so you can also use the <cite>as</cite> keyword to provide an alias for them. All of
this can help tidy up complex Bonfigs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Long</span><span class="p">(</span><span class="n">Bonfig</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">store</span><span class="o">.</span><span class="n">Section</span><span class="p">(</span><span class="s1">&#39;Alphabety&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">A</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">Aa</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">Ab</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">Ac</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">Ad</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="n">store</span><span class="o">.</span><span class="n">Section</span><span class="p">()</span> <span class="k">as</span> <span class="n">B</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">ABa</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="gp">... </span>            <span class="n">ABb</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">... </span>            <span class="n">ABc</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="gp">... </span>            <span class="n">ABd</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="n">super_long_store_attr</span> <span class="o">=</span> <span class="n">Store</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">super_long_store_attr</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">FINALLY</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;What a major keystroke saver!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Long</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">store</span>
<span class="go">{&#39;Alphabety&#39;: {&#39;Aa&#39;: &#39;a&#39;, &#39;Ab&#39;: &#39;b&#39;, &#39;Ac&#39;: &#39;c&#39;, &#39;Ad&#39;: &#39;d&#39;},</span>
<span class="go"> &#39;B&#39;: {&#39;ABa&#39;: &#39;e&#39;, &#39;ABb&#39;: &#39;f&#39;, &#39;ABc&#39;: &#39;g&#39;, &#39;ABd&#39;: &#39;h&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">super_long_store_attr</span>
<span class="go">{&#39;FINALLY&#39;: &#39;What a major keystroke saver!&#39;}</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Bonfig</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-bonfig">Basic Bonfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-different-stores">Using Different Stores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sections">Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#typed-fields">Typed Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bonfig-initialisation-arguments">Bonfig Initialisation Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#going-easier-on-the-eyes">Going Easier on the Eyes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cheatsheet.html">Cheat Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Bonfig’s documentation!</a></li>
      <li>Next: <a href="cheatsheet.html" title="next chapter">Cheat Sheet</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Hugh Ramsden.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>